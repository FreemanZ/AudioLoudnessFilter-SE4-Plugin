# 音频响度过滤器插件 - 使用说明

## 📋 项目概述

**音频响度过滤器插件** 是一个为 SubtitleEdit 4.0.13 开发的专业字幕处理工具，可以根据音频响度自动识别并删除低响度的字幕行，适用于自动生成字幕的后期处理。

### 版本信息
- **插件版本**：2.0
- **目标框架**：.NET Framework 4.8
- **音频引擎**：FFmpeg（loudnorm + astats 滤镜）
- **兼容性**：SubtitleEdit 4.0.13

---

## 🎯 核心功能

### 1. 基于 FFmpeg 的音频分析
- ✅ **主要方法**：使用 FFmpeg 的 `astats` 滤镜获取 RMS 响度值
- ✅ **备用方法**：使用 FFmpeg 的 `loudnorm` 滤镜作为降级方案
- ✅ **优化方法**：优先使用 SubtitleEdit 内置的波形数据（如果可用）
- ✅ **响度计算**：精确的 dB（分贝）单位测量

### 2. 自动化 FFmpeg 管理
- 🔧 **自动检测**：启动时自动检测系统中的 FFmpeg
- 📥 **自动下载**：如果未安装，提供一键下载安装功能
- 🌐 **下载源**：从 GitHub（BtbN/FFmpeg-Builds）获取最新官方构建
- 📦 **安装位置**：`%AppData%\Subtitle Edit\FFmpeg\`
- ⚙️ **路径优先级**：
  1. 系统 PATH 环境变量
  2. 插件本地安装目录
  3. 常见安装路径（C:\ffmpeg\, Program Files 等）

### 3. 智能字幕处理
- 🎬 **格式支持**：SRT 字幕格式（SubtitleEdit 内部格式）
- ⏱️ **时间同步**：精确匹配字幕时间轴与音频片段
- 🧹 **文本清理**：自动清理 HTML 标签和无用内容
- 📊 **实时预览**：显示每行字幕的响度值
- 🚫 **批量删除**：一键删除所有低响度字幕行

### 4. 多音频源支持
- 🎵 **音频文件**：WAV, MP3, AAC, FLAC, OGG
- 🎥 **视频文件**：MP4, AVI, MKV, MOV（自动提取音频）
- 🔄 **自动检测**：优先使用 SubtitleEdit 已加载的视频/音频文件
- 📁 **手动加载**：支持手动选择任意音频或视频文件

### 5. 用户友好界面
- 🖥️ **完全中文界面**：所有提示和操作均为中文
- 📈 **实时进度显示**：处理进度和状态实时更新
- ⏸️ **暂停/继续**：支持中途暂停和恢复处理
- 🛑 **随时停止**：可随时终止处理过程
- 📝 **详细日志**：完整的操作日志记录

---

## 🚀 安装指南

### 方法一：使用安装脚本（推荐）

1. **编译插件**
   ```powershell
   # 在项目目录中打开 PowerShell
   cd D:\001_NETDev
   
   # 编译 Release 版本
   dotnet build AudioLoudnessFilter_SE4_Net48.csproj --configuration Release
   ```

2. **运行安装脚本**
   ```powershell
   # 双击运行或在命令行中执行
   .\install-net48-plugin.bat
   ```

3. **验证安装**
   - 启动 SubtitleEdit 4.0.13
   - 在菜单栏中查看 **工具** 菜单
   - 应该看到 **音频响度过滤器** 选项

### 方法二：手动安装

1. **编译插件**
   ```powershell
   dotnet build AudioLoudnessFilter_SE4_Net48.csproj --configuration Release
   ```

2. **复制文件**
   - 源文件：`bin\Release\net48\AudioLoudnessFilter.dll`
   - 目标位置：`C:\Program Files\Subtitle Edit\Plugins\`
   
3. **重启 SubtitleEdit**

---

## 📖 使用教程

### 基本工作流程

```
打开 SubtitleEdit → 加载字幕 → 加载视频/音频 → 打开插件 → 处理字幕 → 保存
```

### 详细步骤

#### 1️⃣ 首次使用 - FFmpeg 安装

首次使用时，插件会自动检测 FFmpeg：

**场景 A：系统已安装 FFmpeg**
```
✅ 插件自动检测到 FFmpeg
→ 直接显示插件窗口
```

**场景 B：系统未安装 FFmpeg**
```
❓ 插件询问是否下载安装
→ 点击"是"
→ 自动下载 FFmpeg（约 50MB）
→ 自动解压到 AppData 目录
→ 安装完成，可以使用
```

**手动安装 FFmpeg（可选）**
```powershell
# 方法1：使用 Chocolatey（推荐）
choco install ffmpeg

# 方法2：使用 Scoop
scoop install ffmpeg

# 方法3：手动下载
# 1. 访问 https://ffmpeg.org/download.html
# 2. 下载 Windows 版本
# 3. 解压到 C:\ffmpeg\
# 4. 添加 C:\ffmpeg\bin\ 到系统 PATH
```

#### 2️⃣ 启动插件

1. **打开 SubtitleEdit**
   - 启动 SubtitleEdit 4.0.13

2. **加载字幕文件**
   - 文件 → 打开字幕...
   - 选择您的 SRT 字幕文件

3. **加载音频源**（二选一）
   - **方法 A**：视频 → 打开视频...（推荐，插件会自动使用）
   - **方法 B**：稍后在插件中手动加载音频文件

4. **打开插件**
   - 工具 → **音频响度过滤器**
   - 插件窗口弹出

#### 3️⃣ 配置参数

**响度阈值设置**
```
推荐值：-45 dB（默认）

响度参考：
-60 dB 或更低  → 完全静音/极低噪音
-50 dB 到 -40 dB → 非常轻的背景噪音
-40 dB 到 -30 dB → 轻微对话/环境音
-30 dB 到 -20 dB → 正常对话
-20 dB 到 -10 dB → 较大声音
-10 dB 到 0 dB   → 非常响亮

调整建议：
- 过滤更多 → 提高阈值（如 -40 dB）
- 保留更多 → 降低阈值（如 -50 dB）
```

**预览模式**
- ✅ 勾选：仅显示将要删除的字幕行，不实际修改
- ❌ 不勾选：直接处理并删除低响度字幕行

#### 4️⃣ 测试分析（可选）

在正式处理前，建议先测试：

1. **点击"测试分析"按钮**
   - 插件会分析音频的几个时间点
   - 显示响度值和状态（静音/低音量/中等/高音量）

2. **查看测试结果**
   ```
   示例输出：
   [15:30:45] 开始测试音频分析功能...
   [15:30:45] 测试文件: video.mp4
   [15:30:46]   开始: -28.45 dB (中等音量)
   [15:30:47]   中间: -52.12 dB (静音)
   [15:30:48]   结束: -25.30 dB (中等音量)
   [15:30:48] 测试完成
   ```

3. **根据测试结果调整阈值**
   - 如果测试显示大量 -50 dB 左右的值，可能需要调整阈值

#### 5️⃣ 处理字幕

1. **点击"处理字幕"按钮**
   - 插件开始分析每行字幕的响度
   - 实时显示处理进度和日志

2. **查看处理日志**
   ```
   示例输出：
   [15:32:10] 开始处理字幕，响度阈值: -45 dB
   [15:32:10] 找到 150 行字幕
   [15:32:11] 行 1: -28.45 dB - Hello, how are you?...
   [15:32:12] 行 2: -52.12 dB - ...
   [15:32:13] 行 3: -25.30 dB - I'm fine, thank you...
   ...
   ```

3. **处理控制**
   - ⏸️ **暂停**：中途暂停处理，可以查看日志
   - ▶️ **继续**：恢复处理
   - 🛑 **停止**：终止处理，放弃本次操作

4. **确认删除**
   - 处理完成后，插件会显示统计信息
   ```
   找到 25 行响度低于 -45 dB 的字幕行。
   
   是否删除这些字幕行？
   ```
   - 点击"是"→ 删除低响度字幕并返回 SubtitleEdit
   - 点击"否"→ 取消操作，保持原字幕不变

5. **保存结果**
   - 返回 SubtitleEdit 主窗口
   - 文件 → 另存为... → 保存处理后的字幕

#### 6️⃣ 高级技巧

**技巧 1：手动加载音频文件**
- 如果插件未自动识别音频源
- 点击"加载音频文件"按钮
- 选择对应的音频或视频文件

**技巧 2：批量处理工作流**
```
1. 准备多个字幕和音频文件
2. 对每个字幕：
   a. 在 SubtitleEdit 中打开
   b. 运行插件处理
   c. 保存结果
3. 使用脚本自动化（需要自行开发）
```

**技巧 3：优化响度阈值**
```
1. 先使用默认值 -45 dB 处理
2. 检查结果：
   - 删除太多 → 降低阈值到 -50 dB
   - 删除太少 → 提高阈值到 -40 dB
3. 根据不同类型的视频调整：
   - 纪录片：-40 dB（背景音乐多）
   - 访谈：-45 dB（标准）
   - 讲座：-50 dB（安静环境）
```

---

## 🔧 技术细节

### 音频分析流程

```
优先级 1: SubtitleEdit 波形数据（最快）
    ↓ 不可用
优先级 2: FFmpeg astats 滤镜（精确）
    ↓ 失败
优先级 3: FFmpeg loudnorm 滤镜（备用）
```

### FFmpeg 命令详解

#### 方法 1：astats 滤镜（主要方法）
```bash
ffmpeg -ss 10.500 -i "video.mp4" -t 2.500 -af astats -f null -

参数说明：
-ss 10.500        # 起始时间（秒）
-i "video.mp4"    # 输入文件
-t 2.500          # 持续时间（秒）
-af astats        # 应用 astats 音频滤镜
-f null -         # 输出到空设备（不生成文件）

输出示例：
[Parsed_astats_0 @ ...] Overall
RMS level dB: -28.45
Peak level dB: -12.34
...

解析：提取 "RMS level dB" 的值作为响度
```

#### 方法 2：loudnorm 滤镜（备用方法）
```bash
ffmpeg -ss 10.500 -i "video.mp4" -t 2.500 -af loudnorm=print_format=json -f null -

参数说明：
-af loudnorm=print_format=json  # 使用 loudnorm 滤镜，输出 JSON 格式

输出示例：
{
  "input_i" : "-28.45",      # 输入响度
  "input_tp" : "-12.34",     # 真峰值
  "input_lra" : "5.60",      # 响度范围
  ...
}

解析：提取 "input_i" 的值作为响度
```

### 响度计算原理

**RMS（Root Mean Square）响度**
```
1. 采样音频片段
2. 计算样本的均方根值
3. 转换为 dB：dB = 20 × log10(RMS / Reference)
4. 参考值通常是最大振幅（16位：32767）
```

**dB（分贝）单位**
- 0 dB：最大可能响度
- -6 dB：响度减半
- -20 dB：响度约为 1/10
- -40 dB：响度约为 1/100
- -60 dB：响度约为 1/1000（接近静音）

### 项目架构

```
AudioLoudnessFilter_SE4_Net48.cs
├── AudioLoudnessFilter（主插件类）
│   ├── DoAction()              # 插件入口点
│   ├── IsFFmpegAvailable()     # 检测 FFmpeg
│   └── GetFFmpegExecutablePath() # 获取 FFmpeg 路径
│
├── AudioLoudnessAnalyzer（音频分析器）
│   ├── GetLoudness()                      # 主分析方法
│   ├── GetLoudnessFromWaveformData()      # 使用 SE 波形数据
│   ├── GetLoudnessWithFFmpeg()            # 使用 FFmpeg
│   ├── GetLoudnessWithAstats()            # astats 滤镜
│   ├── GetLoudnessWithLoudnorm()          # loudnorm 滤镜
│   ├── ParseAstatsOutput()                # 解析 astats 输出
│   └── ParseFFmpegLoudnormOutput()        # 解析 loudnorm 输出
│
└── AudioLoudnessForm（用户界面）
    ├── 控件（按钮、进度条、日志等）
    ├── ParseSubtitle()         # 解析 SRT 字幕
    ├── ProcessButton_Click()   # 处理字幕
    └── GenerateSubtitle()      # 生成修改后的字幕

FFmpegInstaller.cs
├── FFmpegInstaller（安装管理器）
│   ├── IsFFmpegInstalled()     # 检测安装状态
│   ├── GetFFmpegPath()         # 获取路径
│   └── ShowInstallDialog()     # 显示安装对话框
│
└── FFmpegInstallForm（安装界面）
    ├── StartDownload()         # 开始下载
    ├── WebClient_DownloadProgressChanged()  # 下载进度
    └── WebClient_DownloadFileCompleted()    # 下载完成

IPlugin_SE4_Official.cs
└── IPlugin（插件接口）
    └── 定义 SubtitleEdit 插件标准接口
```

### 依赖项

**NuGet 包**
```xml
<PackageReference Include="System.Resources.Extensions" Version="4.6.0" />
```

**.NET Framework 引用**
```xml
<Reference Include="System.IO.Compression" />
<Reference Include="System.IO.Compression.FileSystem" />
```

**运行时依赖**
- .NET Framework 4.8
- FFmpeg（自动安装或手动安装）
- SubtitleEdit 4.0.13

---

## ❓ 常见问题

### Q1: 插件无法加载 / 工具菜单中没有显示

**可能原因：**
1. DLL 文件未正确复制到 Plugins 文件夹
2. SubtitleEdit 版本不兼容
3. .NET Framework 4.8 未安装

**解决方法：**
```powershell
# 1. 检查插件文件是否存在
Test-Path "C:\Program Files\Subtitle Edit\Plugins\AudioLoudnessFilter.dll"

# 2. 检查 .NET Framework 版本
reg query "HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\NET Framework Setup\NDP\v4\Full" /v Version

# 3. 重新安装插件
.\install-net48-plugin.bat

# 4. 重启 SubtitleEdit
```

### Q2: FFmpeg 下载失败

**可能原因：**
1. 网络连接问题
2. GitHub 访问受限
3. 防火墙拦截

**解决方法：**
```powershell
# 方法 1：使用代理
$env:http_proxy = "http://your-proxy:port"
$env:https_proxy = "http://your-proxy:port"

# 方法 2：手动下载并安装
# 1. 访问 https://ffmpeg.org/download.html
# 2. 下载 Windows 版本
# 3. 解压到：%AppData%\Subtitle Edit\FFmpeg\
# 4. 确保 ffmpeg.exe 在该文件夹中

# 方法 3：使用包管理器
choco install ffmpeg  # 使用 Chocolatey
# 或
scoop install ffmpeg  # 使用 Scoop
```

### Q3: 音频分析非常慢

**可能原因：**
1. 音频文件过大
2. 字幕行数太多
3. FFmpeg 性能问题

**解决方法：**
```
1. 优化音频文件：
   - 转换为 WAV 格式（最快）
   - 降低采样率到 44.1kHz
   - 转换为单声道

2. 分批处理：
   - 将字幕分成多个文件
   - 分别处理后合并

3. 使用 SSD：
   - 将音频文件放在 SSD 上

4. 升级硬件：
   - FFmpeg 依赖 CPU 性能
```

### Q4: 响度值全是 -60 dB

**可能原因：**
1. 音频文件损坏或格式不支持
2. 音频轨道为空
3. 时间轴不匹配

**解决方法：**
```powershell
# 1. 使用 FFprobe 检查音频信息
ffprobe -i "video.mp4"

# 2. 检查音频轨道
ffmpeg -i "video.mp4" 2>&1 | Select-String "Audio"

# 3. 提取音频轨道
ffmpeg -i "video.mp4" -vn -acodec pcm_s16le -ar 44100 "audio.wav"

# 4. 在插件中使用提取的 audio.wav
```

### Q5: 删除了不该删除的字幕

**预防措施：**
1. 使用"预览模式"先查看结果
2. 处理前备份原始字幕文件
3. 从较低的阈值（-50 dB）开始测试

**恢复方法：**
```
1. 如果未保存：
   - 直接关闭 SubtitleEdit
   - 重新打开原始字幕文件

2. 如果已保存：
   - 恢复备份文件
   - 或者手动重新添加被删除的字幕行
```

### Q6: 插件崩溃或无响应

**诊断步骤：**
```
1. 查看日志文件：
   %AppData%\Subtitle Edit\Plugins\AudioLoudnessFilter_Net48.log

2. 检查 FFmpeg 日志：
   - 在日志中查找 FFmpeg 错误信息

3. 测试 FFmpeg：
   ffmpeg -version
   ffmpeg -i "test.mp4" -af astats -f null -

4. 重新安装插件：
   - 删除旧的 DLL
   - 重新编译和安装
```

### Q7: 多线程处理时出错

**解决方法：**
```
当前版本使用批处理（每批 5 行）来平衡性能和稳定性。

如果仍然出错：
1. 减少批处理大小（修改代码中的 batchSize）
2. 使用单线程模式（注释掉 Task.Run 部分）
3. 检查音频文件是否支持并发访问
```

---

## 📊 性能指标

### 处理速度参考

| 字幕行数 | 音频格式 | 大致用时 | 备注 |
|---------|---------|---------|------|
| 100 行  | WAV     | 10-20 秒 | 最快 |
| 100 行  | MP4     | 20-30 秒 | 需要解码 |
| 500 行  | WAV     | 1-2 分钟 | |
| 500 行  | MP4     | 2-3 分钟 | |
| 1000 行 | WAV     | 2-4 分钟 | |
| 1000 行 | MP4     | 4-6 分钟 | |

*性能取决于 CPU、硬盘速度和音频复杂度*

### 内存使用

- **空闲状态**：约 20-30 MB
- **处理中**：约 50-100 MB
- **峰值**：约 150 MB（大文件）

### 磁盘占用

- **插件 DLL**：约 50 KB
- **FFmpeg**：约 80-100 MB（如果使用自动安装）
- **日志文件**：通常 < 1 MB

---

## 🛡️ 最佳实践

### 1. 处理前准备

✅ **必做**
- 备份原始字幕文件
- 确保音频和字幕时间同步
- 先用小样本测试阈值

❌ **避免**
- 直接覆盖原始文件
- 使用损坏的音频文件
- 跳过测试直接处理大量字幕

### 2. 阈值设置

**推荐阈值表**

| 场景类型 | 推荐阈值 | 说明 |
|---------|---------|------|
| 电影/剧集 | -45 dB | 标准设置 |
| 纪录片 | -40 dB | 背景音乐较多 |
| 访谈/新闻 | -45 dB | 标准对话 |
| 讲座/教程 | -50 dB | 安静环境 |
| 播客 | -50 dB | 主要是人声 |
| 音乐视频 | -35 dB | 音乐响度高 |
| 游戏视频 | -40 dB | 音效复杂 |

### 3. 工作流程建议

```
步骤 1: 准备阶段
    ↓
  - 备份字幕文件
  - 检查音频质量
  - 确认时间同步
    ↓
步骤 2: 测试阶段
    ↓
  - 运行"测试分析"
  - 查看样本响度值
  - 调整阈值
    ↓
步骤 3: 小规模测试
    ↓
  - 处理前 50 行字幕
  - 检查删除是否合理
  - 微调阈值
    ↓
步骤 4: 正式处理
    ↓
  - 处理完整字幕
  - 检查结果
  - 保存文件
    ↓
步骤 5: 质量检查
    ↓
  - 在 SubtitleEdit 中播放预览
  - 检查是否有误删
  - 必要时手动调整
```

### 4. 音频文件优化

**最佳音频格式**
```
格式: WAV（PCM 编码）
采样率: 44.1 kHz 或 48 kHz
位深: 16-bit
声道: 单声道或立体声
```

**转换命令**
```bash
# 使用 FFmpeg 优化音频
ffmpeg -i "input.mp4" -vn -acodec pcm_s16le -ar 44100 -ac 2 "output.wav"

参数说明：
-vn             # 不处理视频
-acodec pcm_s16le  # PCM 16位编码
-ar 44100       # 44.1kHz 采样率
-ac 2           # 立体声
```

---

## 🔍 故障排除清单

### 启动前检查

- [ ] SubtitleEdit 4.0.13 已安装
- [ ] .NET Framework 4.8 已安装
- [ ] 插件 DLL 在 Plugins 文件夹中
- [ ] FFmpeg 已安装或准备好网络连接

### 使用前检查

- [ ] 字幕文件已加载到 SubtitleEdit
- [ ] 音频或视频文件已准备
- [ ] 音频和字幕时间轴同步
- [ ] 原始文件已备份

### 处理时检查

- [ ] 响度阈值设置合理
- [ ] 测试分析显示正常响度值
- [ ] 日志窗口显示正常输出
- [ ] 进度条正常更新

### 完成后检查

- [ ] 删除数量合理
- [ ] 剩余字幕行完整
- [ ] 时间轴未损坏
- [ ] 文本内容正确

---

## 📞 支持与反馈

### 日志位置

**插件日志**
```
位置: %AppData%\Subtitle Edit\Plugins\AudioLoudnessFilter_Net48.log
路径示例: C:\Users\YourName\AppData\Roaming\Subtitle Edit\Plugins\AudioLoudnessFilter_Net48.log
```

**日志内容**
```
[2025-11-08 15:30:45] 插件启动: 音频响度过滤器 v2.0
[2025-11-08 15:30:45] 字幕文件: D:\Videos\subtitle.srt
[2025-11-08 15:30:45] 视频文件: D:\Videos\video.mp4
[2025-11-08 15:30:45] 检查FFmpeg可用性...
[2025-11-08 15:30:46] FFmpeg已可用
```

### 问题报告

如果遇到问题，请提供以下信息：

1. **环境信息**
   - Windows 版本
   - .NET Framework 版本
   - SubtitleEdit 版本
   - 插件版本

2. **问题描述**
   - 详细的操作步骤
   - 错误信息截图
   - 插件日志文件

3. **文件信息**
   - 字幕格式
   - 音频/视频格式
   - 文件大小

---

## 📄 版本历史

### v2.0（当前版本）
**发布日期：** 2025-11-08

**重大更新：**
- ✨ **使用 FFmpeg 替换 NAudio**
  - 更强大的音频格式支持
  - 更精确的响度计算
  - 更好的性能表现

- 🚀 **新增功能：**
  - FFmpeg 自动下载和安装
  - 多种响度分析方法（astats, loudnorm, 波形数据）
  - 智能降级机制
  - 暂停/恢复/停止控制
  - 详细的处理日志

- 🔧 **技术改进：**
  - 多线程批处理
  - 更好的错误处理
  - 完整的日志系统

- 🐛 **修复：**
  - 解决大文件处理内存溢出
  - 修复时间轴解析错误
  - 改进字幕文本清理逻辑

### v1.0（历史版本）
**发布日期：** 2025-XX-XX

- 🎉 初始版本
- 使用 NAudio 进行音频分析
- 基本的响度过滤功能

---

## 📚 相关资源

### FFmpeg 文档
- **官方网站**：https://ffmpeg.org/
- **文档**：https://ffmpeg.org/documentation.html
- **音频滤镜**：https://ffmpeg.org/ffmpeg-filters.html#Audio-Filters

### SubtitleEdit
- **官方网站**：https://www.nikse.dk/SubtitleEdit/
- **GitHub**：https://github.com/SubtitleEdit/subtitleedit
- **插件开发**：https://www.nikse.dk/SubtitleEdit/Plugins

### 音频响度标准
- **ITU-R BS.1770**：响度测量国际标准
- **EBU R128**：欧洲广播响度标准
- **ATSC A/85**：美国广播响度标准

---

## 📖 附录

### A. FFmpeg 安装路径检测顺序

1. **系统 PATH 环境变量**
   ```
   检测方法: 运行 "ffmpeg -version"
   优先级: 最高
   ```

2. **插件本地目录**
   ```
   路径: %AppData%\Subtitle Edit\FFmpeg\ffmpeg.exe
   优先级: 中
   ```

3. **常见安装路径**
   ```
   - C:\ffmpeg\bin\ffmpeg.exe
   - C:\Program Files\ffmpeg\bin\ffmpeg.exe
   - C:\Program Files (x86)\ffmpeg\bin\ffmpeg.exe
   - C:\tools\ffmpeg\bin\ffmpeg.exe
   - C:\bin\ffmpeg.exe
   优先级: 低
   ```

### B. 支持的文件格式

**音频格式**
- WAV (Waveform Audio File Format)
- MP3 (MPEG-1 Audio Layer 3)
- AAC (Advanced Audio Coding)
- FLAC (Free Lossless Audio Codec)
- OGG (Ogg Vorbis)

**视频格式（提取音频）**
- MP4 (MPEG-4 Part 14)
- AVI (Audio Video Interleave)
- MKV (Matroska)
- MOV (QuickTime File Format)
- WMV (Windows Media Video)
- FLV (Flash Video)
- WebM
- M4V

**字幕格式**
- SRT (SubRip Text) - 主要支持

### C. 键盘快捷键

插件窗口内：
- 无默认快捷键（可在 SubtitleEdit 设置中自定义）

SubtitleEdit 中：
- 打开插件：工具菜单 → 音频响度过滤器

### D. 命令行参数（不支持）

当前版本不支持命令行模式，必须在 SubtitleEdit 图形界面中使用。

---

## 📝 总结

**音频响度过滤器插件 v2.0** 是一个强大的字幕后期处理工具，特别适合处理自动生成的字幕。通过使用 FFmpeg 的专业音频分析能力，插件可以精确识别并删除低响度的字幕行，大大提高字幕质量和工作效率。

### 核心优势

✨ **专业音频分析**：基于 FFmpeg 的工业级音频处理  
🚀 **自动化管理**：FFmpeg 自动下载安装，无需手动配置  
🎯 **精确过滤**：dB 级精度的响度测量  
🔧 **灵活配置**：可调节阈值适应不同场景  
💻 **用户友好**：完全中文界面，实时反馈  

### 典型应用场景

1. **清理自动生成字幕**：删除静音片段的误识别字幕
2. **提高字幕质量**：去除低质量、不清晰的字幕行
3. **批量处理**：快速处理大量字幕文件
4. **专业后期**：视频字幕的精细化处理

---

**感谢使用音频响度过滤器插件！**

如有问题或建议，欢迎反馈。

*最后更新：2025-11-08*

